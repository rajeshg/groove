@import "tailwindcss";

@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

@layer base {
  html {
    color-scheme: light dark;
  }

  :root {
    --color-primary: #2563eb;
    --color-primary-dark: #1d4ed8;
    --color-danger: #dc2626;
    --color-danger-dark: #b91c1c;
    --color-text-primary: #1f2937;
    --color-text-secondary: #6b7280;
    --color-border: #e5e7eb;
    --color-bg-hover: #f9fafb;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --color-text-primary: #f1f5f9;
      --color-text-secondary: #cbd5e1;
      --color-border: #334155;
      --color-bg-hover: #1e293b;
    }
  }

  .dark {
    --color-text-primary: #f1f5f9;
    --color-text-secondary: #cbd5e1;
    --color-border: #334155;
    --color-bg-hover: #1e293b;
  }

  /* TipTap Editor Styles */
  .ProseMirror {
    @apply outline-none min-h-24 text-slate-900 dark:text-slate-50;
  }

  .ProseMirror:focus {
    @apply outline-none;
  }

  .ProseMirror p.is-editor-empty:first-child::before {
    @apply text-slate-400 italic;
    content: attr(data-placeholder);
    pointer-events: none;
    height: 0;
  }

  .ProseMirror ul,
  .ProseMirror ol {
    @apply pl-6 my-2;
  }

  .ProseMirror li {
    @apply my-1;
  }

  .ProseMirror code {
    @apply bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-sm;
  }

  .ProseMirror pre {
    @apply bg-slate-800 dark:bg-slate-900 text-slate-100 p-3 rounded overflow-x-auto;
  }

  .ProseMirror pre code {
    @apply bg-transparent p-0 text-inherit;
  }

  .ProseMirror blockquote {
    @apply border-l-4 border-slate-300 dark:border-slate-600 pl-4 text-slate-600 dark:text-slate-400 italic;
  }

  .ProseMirror img {
    @apply rounded max-w-full;
  }

  /* Remove default TipTap outline styles */
  .ProseMirror-focused {
    @apply outline-none;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-semibold text-white transition-colors;
    background-color: var(--color-primary);
  }

  .btn-primary:hover {
    background-color: var(--color-primary-dark);
  }

  .btn-primary:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-semibold;
    @apply text-slate-700 bg-slate-100 hover:bg-slate-200;
    @apply dark:text-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600;
    @apply transition-colors;
  }

  .btn-danger {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-semibold text-white transition-colors;
    background-color: var(--color-danger);
  }

  .btn-danger:hover {
    background-color: var(--color-danger-dark);
  }

  .btn-sm {
    @apply px-2 py-1 text-sm;
  }

  .input-base {
    @apply block w-full rounded-lg border px-3 py-2 placeholder:text-slate-400 transition-all;
    @apply text-slate-900 border-slate-300;
    @apply dark:text-slate-50 dark:border-slate-500 dark:bg-slate-700;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply focus:ring-blue-500 focus:border-transparent;
  }

  .label-base {
    @apply block text-sm font-medium mb-1;
    @apply text-slate-700 dark:text-slate-300;
  }
}
